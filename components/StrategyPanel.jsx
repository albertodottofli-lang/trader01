'use client'; import {useEffect,useState} from 'react'; export default function StrategyPanel({tickers}){ const [items,setItems]=useState([]); useEffect(()=>{ async function load(){ const res=await Promise.all(tickers.map(t=>fetch(`/api/strategy?symbol=${t}`).then(r=>r.json()).catch(()=>null))); setItems(res.filter(Boolean)); } load(); },[tickers]); return (<div className='card p-4 rounded-lg'><h3 className='font-semibold mb-2'>Strategia consigliata</h3>{items.map(it=> <div key={it.symbol} className='border-t border-gray-800 py-2'><b>{it.symbol}</b>: Buy {it.buyThreshold}% — Sell {it.sellThreshold}% — Vol {(it.volatility||0).toFixed(2)}</div>)}</div>); }